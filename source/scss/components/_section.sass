/* ==========================================================================
   Section
   ========================================================================== */

.section
  position: relative

  &__container
    height: 100%
    padding: em-calc(100px) em-calc(180px)

  &__columns
    display: flex
    flex-direction: row
    justify-content: center
    align-items: center

    &__column
      width: 100%
      flex: 1

      &--columns-offset
        flex: 2

        &.column--order--1,
        &.column--order--2
          .chapter
            &__body
              max-width: 430px

        &.column--order--1
          .chapter
            align-items: flex-end
            &__body
              padding-right: 50px

        &.column--order--2
          .chapter
            align-items: flex-start
            &__body
              padding-left: 50px

      &--body-large
        .chapter__body
          font-size: em-calc(24px)

      &--single-column
        margin: 0 auto

        .chapter
          &__title,
          &__body,
          &__images,
          &__ctas
            text-align: center

          &__body
            max-width: 700px

    .column
      @for $i from 1 through 8
        &--order--#{$i}
          order: $i

  &--bg-image
    .section__container
      padding: 0

    .chapter
      height: (600px / 1440px) * 100vw

      .background-images__image
        background-size: cover

      +lg
        min-height: 600px

  &--min-height-600
    .section__columns
      min-height: 420px // Account for container padding

  &--padded
    .section__container
      padding: 0 $global-spacing-xl

  &--dark
    &.section--process
      background-color: $global-color-dark-blue
    .chapter
      &__title,
      &__body
        color: $global-color-white

  &--custom-animation
    min-height: 600px

  &--light-grey-bg
    background-color: $global-color-light-blue

  &--process
    +case-study__process-mask

    .section
      &__container
        padding: em-calc(160px) em-calc(60px)

      &__title
        +footer__title
        font-style: normal
        margin-bottom: 100px

      &__phases
        position: relative
        z-index: 1
        display: flex
        flex-direction: column
        justify-content: center
        align-items: center

        &__timeline
          display: flex
          width: 2px
          height: calc(100% - 150px)
          position: absolute
          bottom: 0
          left: 50%
          transform: translateX(-50%)
          background-color: $global-color-white
          z-index: 0

          &::before,
          &::after
            content: ''
            +process__phase__marker
            position: absolute
            left: 50%
            transform: translateX(-50%)

          &::before
            top: 0

          &::after
            bottom: 0

        &__phase
          position: relative
          flex: 1
          width: 100%
          display: flex
          flex-direction: row
          justify-content: center
          align-items: center
          padding: em-calc(150px) 0
          z-index: 1

          &::after
            content: ''
            +process__phase__marker
            position: absolute
            top: 50%
            left: 50%
            transform: translate(-50%, -50%)

          &--insights
            position: relative
            padding: em-calc(50px) 0
            margin-top: em-calc(100px)
            margin-bottom: em-calc(100px)

            &::before
              content: ''
              display: flex
              width: 4px
              height: 100%
              position: absolute
              top: 0
              left: 50%
              background-color: $global-color-dark-blue
              transform: translateX(-50%)

            &::after
              display: none

            .section__phase__insights
              &::before,
              &::after
                content: ''
                display: flex
                position: absolute
                left: 50%
                transform: translateX(-50%)

              &::before
                +process__phase__marker__top
                top: 0

              &::after
                +process__phase__marker__bottom
                bottom: 0

            .chapter
              &__title
                font-size: em-calc(24px)
                font-style: italic
              &__body
                max-width: 900px
                font-size: em-calc(14px)
                columns: 2 auto
                margin-bottom: 0
                &__paragraph:last-child
                  margin-bottom: 0

          &--discovery,
          &--information-architecture,
          &--creative-direction,
          &--software-development

            .chapter__title
              position: relative

              &::before,
              &::after
                content: ''
                display: flex
                position: absolute
                background-position: center
                background-repeat: no-repeat
                background-size: contain
                top: 50%
                transform: translate(0,-50%)

          &--discovery,
          &--creative-direction
            .chapter__title
              margin-left: 60px
              &::before
                left: -60px

          &--information-architecture,
          &--software-development
            .chapter__title
              margin-right: 60px
              &::before
                right: -60px

          &--discovery
            .chapter__title
              &::before
                width: 50px
                height: 49px
                background-image: url('/images/icons/magnifying-glass.svg')

          &--creative-direction
            .chapter__title
              &::before
                width: 49px
                height: 42px
                background-image: url('/images/icons/strategy.svg')

          &--information-architecture
            .chapter__title
              &::before
                width: 50px
                height: 60px
                background-image: url('/images/icons/wireframe.svg')

          &--software-development
            .chapter__title
              &::before
                width: 48px
                height: 43px
                background-image: url('/images/icons/engineering.svg')

          .left
            order: 1
            margin-right: $global-spacing-lg

            .chapter
              align-items: flex-end

              &__title,
              &__body
                text-align: right

          .right
            order: 2
            margin-left: $global-spacing-lg

            .chapter
              align-items: flex-start

              &__title,
              &__body
                text-align: left

      &__phase__work,
      &__phase__details
        flex: 1
        width: 100%

      &__phase__details
        .chapter
          &__title
            +process__title

          &__body
            max-width: 500px
            margin-bottom: 0
            &__paragraph:last-child
              margin-bottom: 0

    &__canvas
      background-color: transparent
